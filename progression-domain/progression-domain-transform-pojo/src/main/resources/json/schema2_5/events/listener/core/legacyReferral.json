{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://justice.gov.uk/core/courts/legacyReferral.json",
  "type": "object",
  "description": "The case and accompanying relevant details at the point when a case can no longer be supported by the common platform and must be re-entered into the legacy systems for onward processing",
  "properties": {
    "referralDateTime": {
		"description": "The date that the CPP user refers the case for the legacy system",
		 "type": "string",
		 "format": "date-time"
	},
    "status": {
      "description": "The status of the legacy referral process",
      "$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/legacyReferralStatus"
    },
    "sourceJurisdiction": {
      "description": "The referring jurisdiction",
      "$ref": "http://justice.gov.uk/core/courts/courtsDefinitions.json#/definitions/legacyReferralJurisdictionType"
    },
    "approvalDateTime": {
		"description": "The date that the CPP user confirms that the case has been initiated in the legacy system",
		 "type": "string",
		 "format": "date-time"
	},
	"sourceURI": {
      "type": "string"
    },
    "referringUser": {
      "$ref": "http://justice.gov.uk/core/courts/delegatedPowers.json"
    },
    "initiatingUser": {
      "$ref": "http://justice.gov.uk/core/courts/delegatedPowers.json"
    },
    "approvingUser": {
      "$ref": "http://justice.gov.uk/core/courts/delegatedPowers.json"
    },
    "prosecutionCase": {
	  "$ref": "http://justice.gov.uk/core/courts/prosecutionCase.json"
	},
	"courtDocuments": {
		"type": "array",
		"minItems": 1,
		"items": {
			"$ref": "http://justice.gov.uk/core/courts/courtDocument.json"
		}
	},
	"listHearingRequest": {
	  "$ref": "http://justice.gov.uk/core/courts/referredListHearingRequest.json"
	}
  },
  "required": [
    "referralDateTime",
    "status",
    "sourceJurisdiction",
    "sourceURI",
    "referringUser", 
    "prosecutionCase"
  ],
  "additionalProperties": false
}