#%RAML 0.8
title: Progression Command API
version: 1.0
baseUri:  http://localhost:8080/progression-command-api/command/api/rest/progression



/cases/{caseId} :
  post:
      description: |
        Add sentence hearing date.
        Case is sent to a Crown Court for Hearing by a Magistrates Court.
        The Case is identified on the Common Platform  and added to appropriate Crown Court.
        Sending committal hearing information to be added to the case
        Assign the status Ready for Review which signifies that a case is ready to be assigned to a Judge for Sentencing Hearing Review.
        Moves a case with a  to status "Assigned for Review " once the case is referred to a named Judge/Judicial Officer
        Marks a  case as Ready for Sentencing when a Judge/Judicial Officer following a SHR, confirms the decision
        ...
        (mapping):
            requestType: application/vnd.progression.command.sentence-hearing-date+json
            name: progression.command.sentence-hearing-date
        (mapping):
            requestType: application/vnd.progression.command.add-case-to-crown-court+json
            name: progression.command.add-case-to-crown-court
        (mapping):
            requestType: application/vnd.progression.command.sending-committal-hearing-information+json
            name: progression.command.sending-committal-hearing-information
        (mapping):
            requestType: application/vnd.progression.command.case-to-be-assigned+json
            name: progression.command.case-to-be-assigned
        (mapping):
            requestType: application/vnd.progression.command.complete-sending-sheet+json
            name: progression.command.complete-sending-sheet
        ...
      body:
        application/vnd.progression.command.sentence-hearing-date+json:
            example:
             !include json/progression.command.sentence-hearing-date.json

            schema:
             !include json/schema/progression.command.sentence-hearing-date.json
  
        application/vnd.progression.command.add-case-to-crown-court+json:
            example: 
             !include json/progression.command.add-case-to-crown-court.json          
             
            schema: 
             !include json/schema/progression.command.add-case-to-crown-court.json
        application/vnd.progression.command.sending-committal-hearing-information+json:
            example:
             !include json/progression.command.sending-committal-hearing-information.json

            schema:
             !include json/schema/progression.command.sending-committal-hearing-information.json
        application/vnd.progression.command.case-to-be-assigned+json:
            example:
             !include json/progression.command.case-to-be-assigned.json

            schema:
             !include json/schema/progression.command.case-to-be-assigned.json
        application/vnd.progression.command.complete-sending-sheet+json:
            example:
             !include json/progression.command.complete-sending-sheet.json

            schema:
             !include json/schema/progression.command.complete-sending-sheet.json
  
      responses:
            202:
                description: OK

/cases/{caseId}/defendant:
  uriParameters:
    caseId:
      description: The ID of the case to modify
      type: string
  post:
    description: |
      Add defendant.
      ...
      (mapping):
          requestType: application/vnd.progression.command.add-defendant+json
          name: progression.command.add-defendant
      ...
    body:
      application/vnd.progression.command.add-defendant+json:
        example:
          !include json/progression.command.add-defendant.json
        schema:
          !include json/schema/progression.command.add-defendant.json


/cases/{caseId}/defendants/{defendantId}:
  uriParameters:
    caseId:
      description: The ID of the case
      type: string
    defendantId:
      description: The ID of the defendant
      type: string
  post:
      description:  |
        the defendant progression details
        ...
        (mapping):
            requestType: application/vnd.progression.command.add-defendant-additional-information+json
            name: progression.command.add-defendant-additional-information
        (mapping):
            requestType: application/vnd.progression.command.no-more-information-required+json
            name: progression.command.no-more-information-required
        (mapping):
            requestType: application/vnd.progression.command.update-bail-status-for-defendant+json
            name: progression.command.update-bail-status-for-defendant
        (mapping):
            requestType: application/vnd.progression.command.update-defence-solicitor-firm-for-defendant+json
            name: progression.command.update-defence-solicitor-firm-for-defendant
        (mapping):
            requestType: application/vnd.progression.command.update-interpreter-for-defendant+json
            name: progression.command.update-interpreter-for-defendant
        (mapping):
            requestType: application/vnd.progression.command.update-offences-for-defendant+json
            name: progression.command.update-offences-for-defendant
        ...
      body:
        application/vnd.progression.command.add-defendant-additional-information+json:
            example:
             !include json/progression.command.add-defendant-additional-information.json
            schema:
             !include json/schema/progression.command.add-defendant-additional-information.json

        application/vnd.progression.command.no-more-information-required+json:
            example:
             !include json/progression.command.no-more-information-required.json
            schema:
             !include json/schema/progression.command.no-more-information-required.json
        application/vnd.progression.command.update-bail-status-for-defendant+json:
          example:
            !include json/progression.command.update-bail-status-for-defendant.json
          schema:
            !include json/schema/progression.command.update-bail-status-for-defendant.json
        application/vnd.progression.command.update-defence-solicitor-firm-for-defendant+json:
          example:
            !include json/progression.command.update-defence-solicitor-firm-for-defendant.json
          schema:
            !include json/schema/progression.command.update-defence-solicitor-firm-for-defendant.json
        application/vnd.progression.command.update-interpreter-for-defendant+json:
          example:
            !include json/progression.command.update-interpreter-for-defendant.json
          schema:
            !include json/schema/progression.command.update-interpreter-for-defendant.json
        application/vnd.progression.command.update-offences-for-defendant+json:
          example:
            !include json/progression.command.update-offences-for-defendant.json
          schema:
            !include json/schema/progression.command.update-offences-for-defendant.json

      responses:
            202:
                description: OK
                
                
               
/cases/{caseId}/defendants/requestpsr:
  post:
      description:  |
        Request PSR - Multiple Defendants
        ...
        (mapping):
            requestType: application/vnd.progression.command.request-psr-for-defendants+json
            name: progression.command.request-psr-for-defendants
        ...
      body:
        application/vnd.progression.command.request-psr-for-defendants+json:
            example: 
             !include json/progression.command.request-psr-for-defendants.json
             
            schema: 
             !include json/schema/progression.command.request-psr-for-defendants.json
              
      responses:
            202:
                description: OK
