{
  "operations":    [
    {
      "operation": "shift",
      "spec": {
        "hearing": {
          "#true": "@jurisdictionType",
          "judiciary": {
            "*": {
              "judicialRoleType": {
                "judiciaryType": "judiciaryRoleTypes[]"
              }
            }
          },
          "hearingDays": {
            "*": {
              "sittingDay": "hearingDates[].iso"
            }
          },
          "prosecutionCases": {
            "*": {
              "#PROSECUTION": "prosecutionCases[&1]._case_type",
              "id": "prosecutionCases[&1].caseId",
              "@(3,boxWorkAssignedUserId)": "prosecutionCases[&1].hearings[0].boxWorkAssignedUserId",
              "@(3,boxWorkTaskStatus)": "prosecutionCases[&1].hearings[0].boxWorkTaskStatus",
              "@(2,id)": "prosecutionCases[&1].hearings[0].hearingId",
              "@(2,jurisdictionType)": "prosecutionCases[&1].hearings[0].jurisdictionType",
              "@(2,courtCentre.id)": "prosecutionCases[&1].hearings[0].courtId",
              "@(2,courtCentre.name)": "prosecutionCases[&1].hearings[0].courtCentreName",
              "@(2,type.id)": "prosecutionCases[&1].hearings[0].hearingTypeId",
              "@(2,type.description)": "prosecutionCases[&1].hearings[0].hearingTypeLabel",
              "@(2,isBoxHearing)": "prosecutionCases[&1].hearings[0].isBoxHearing"
            }
          },
          "courtApplications": {
            "*": {
              "#APPLICATION": "applications[&1]._case_type",
              "id": "applications[&1].caseId",
              "dueDate":"applications[&1].dueDate",
              "@(3,boxWorkAssignedUserId)": "applications[&1].hearings[0].boxWorkAssignedUserId",
              "@(3,boxWorkTaskStatus)": "applications[&1].hearings[0].boxWorkTaskStatus",
              "@(2,id)": "applications[&1].hearings[0].hearingId",
              "@(2,jurisdictionType)": "applications[&1].hearings[0].jurisdictionType",
              "@(2,courtCentre.id)": "applications[&1].hearings[0].courtId",
              "@(2,courtCentre.name)": "applications[&1].hearings[0].courtCentreName",
              "@(2,type.id)": "applications[&1].hearings[0].hearingTypeId",
              "@(2,type.description)": "applications[&1].hearings[0].hearingTypeLabel",
              "@(2,isBoxHearing)": "applications[&1].hearings[0].isBoxHearing"
            }
          }
        }
      }
    },
    {
      "operation": "modify-overwrite-beta",
      "spec": {
        "hearingDates": {
          "*": {
            "iso": "=substring(@(1,iso),0,10)"
          }
        }
      }
    },
    {
      "operation": "shift",
      "spec": {
        "applications": {
          "*": {
            "@": "caseDocuments[]"
          }
        },
        "prosecutionCases": {
          "*": {
            "@": "caseDocuments[]"
          }
        },
        "hearingDates": {
          "*": {
            "@.iso": "hearingDatesIso[]"
          }
        },
        "judiciaryRoleTypes": "judiciaryRoleTypes",
        "CROWN": "CROWN",
        "MAGISTRATES": "MAGISTRATES",
        "hearingDatesIso": "hearingDatesIso"
      }
    },
    {
      "operation": "shift",
      "spec": {
        "caseDocuments": {
          "*": {
            "@": "caseDocuments[]",
            "@(2,hearingDatesIso)": "caseDocuments[&1].hearings[0].hearingDates",
            "@(2,judiciaryRoleTypes)": "caseDocuments[&1].hearings[0].judiciaryTypes",
            "@(2,CROWN)": "caseDocuments[&1]._is_crown",
            "@(2,MAGISTRATES)": "caseDocuments[&1]._is_magistrates"
          }
        }
      }
    },
    {
      "operation": "modify-overwrite-beta",
      "spec": {
        "caseDocuments": {
          "*": {
            "\\_case_type": "=toUpper",
            "\\_is_crown": "=toBoolean",
            "\\_is_magistrates": "=toBoolean"
          }
        }
      }
    }
  ]


}